<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>수업 등록</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/24dbe51f07.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="../startbootstrap-sb-admin-2-gh-pages/css/sb-admin-2.min.css">
  <!-- CSS only -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <!-- JavaScript Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>

</head>

<body>
  <h1>수업 등록</h1>
  수업명 
  <select name="" id="class_type">
    <option selected>선택</option>
    <option value="개인">개인</option>
    <option value="그룹">그룹</option>
  </select>
  <input type="text" class="" id="class_name" placeholder="수업명" style="width:300px"> <br>
  강사명 <input type="text" class="" id="class_teacher" placeholder=""><br>
  수업 날짜 <input type="date" id="class_date"><br>
  수업 시간 <input type="time" id="class_time"><br>
  수강 인원 <input type="text" disabled class="" id="class_nownum">&nbsp;&nbsp;/&nbsp;&nbsp;<input type="text" class="" id="class_max"><br>
  담당 센터
  <select name="" id="class_center">
    <option selected>선택</option>
    <option value="지점1">지점1</option>
    <option value="지점2">지점2</option>
    <option value="지점3">지점3</option>
    <option value="지점4">지점4</option>
    <option value="지점5">지점5</option>
  </select><br>
  강의실 <input type="text" class="" id="class_room"><br>
  <input type="button" value="확인" class="" id="class_ok">
  <input type="button" value="실험" class="" id="class_ck">

  <!-- html -->

  <!-- firebase script -->
  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-database.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-storage.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyAkxep9jM-FpeZmEzaHlJuhiiQNEHb_HOk",
      authDomain: "semiproject6.firebaseapp.com",
      databaseURL: "https://semiproject6-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "semiproject6",
      storageBucket: "semiproject6.appspot.com",
      messagingSenderId: "300720308935",
      appId: "1:300720308935:web:09cbe5d14559220c0cb4e2"
    };

    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    const class_ok = document.getElementById("class_ok");
    
    class_ok.addEventListener('click', () => {

    const class_type = $("#class_type").val();
    const class_name = $("#class_name").val();
    const class_teacher = $("#class_teacher").val();
    const class_date = $("#class_date").val();
    const class_time = $("#class_time").val();
    const class_max = $("#class_max").val();
    const class_center = $("#class_center").val();
    const class_room = $("#class_room").val();

      console.log("click");
      const classSet = {
        class_type: class_type,
        class_name: class_name,
        class_teacher: class_teacher,
        class_date: class_date,
        class_time: class_time,
        class_max: class_max,
        class_center: class_center,
        class_room: class_room,
      }

      db.collection('class').doc().set(classSet); // 자동 아이디로 doc id 생성
      // db.collection('class').doc(class_name).set(classSet); // doc id에 수업명 담음
      console.log(classSet);
    })

  </script>
  <!-- firebase script -->
</div>
</body>

</html>